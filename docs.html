<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - ndiidepzXmusic</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1DB954;
            --secondary: #191414;
            --accent: #1ed760;
            --light: #ffffff;
            --dark: #121212;
            --gray: #b3b3b3;
            --dark-gray: #535353;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--dark);
            color: var(--light);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header Styles */
        header {
            background-color: var(--secondary);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo h1 {
            font-size: 24px;
            color: var(--primary);
        }
        
        .logo span {
            color: var(--light);
        }
        
        .nav-links {
            display: flex;
            gap: 20px;
        }
        
        .nav-links a {
            color: var(--gray);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav-links a:hover, .nav-links a.active {
            color: var(--primary);
        }
        
        .user-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background-color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .btn {
            padding: 8px 16px;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: var(--light);
        }
        
        .btn-primary:hover {
            background-color: var(--accent);
        }
        
        .btn-outline {
            background-color: transparent;
            color: var(--light);
            border: 1px solid var(--light);
        }
        
        .btn-outline:hover {
            background-color: var(--light);
            color: var(--dark);
        }
        
        /* Dashboard Styles */
        .dashboard {
            padding: 40px 0;
        }
        
        .welcome-section {
            margin-bottom: 30px;
        }
        
        .welcome-section h2 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .welcome-section p {
            color: var(--gray);
        }
        
        .quick-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background-color: var(--secondary);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }
        
        .stat-icon {
            font-size: 30px;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: var(--gray);
            font-size: 14px;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .feature-card {
            background-color: var(--secondary);
            border-radius: 10px;
            padding: 25px;
            transition: transform 0.3s;
            cursor: pointer;
            border: 1px solid transparent;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            background-color: #282828;
        }
        
        .feature-icon {
            font-size: 40px;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .feature-card h3 {
            margin-bottom: 10px;
            font-size: 20px;
        }
        
        .feature-card p {
            color: var(--gray);
            margin-bottom: 15px;
        }
        
        .feature-link {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .recent-activity {
            background-color: var(--secondary);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 40px;
        }
        
        .recent-activity h3 {
            margin-bottom: 20px;
            color: var(--primary);
        }
        
        .activity-list {
            list-style: none;
        }
        
        .activity-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 10px 0;
            border-bottom: 1px solid var(--dark-gray);
        }
        
        .activity-item:last-child {
            border-bottom: none;
        }
        
        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .activity-content {
            flex: 1;
        }
        
        .activity-text {
            font-weight: 500;
        }
        
        .activity-time {
            color: var(--gray);
            font-size: 12px;
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }
        
        .action-btn {
            background-color: var(--dark);
            border: 1px solid var(--dark-gray);
            color: var(--light);
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s;
            text-decoration: none;
            display: block;
        }
        
        .action-btn:hover {
            border-color: var(--primary);
            background-color: rgba(29, 185, 84, 0.1);
        }
        
        .action-btn i {
            display: block;
            font-size: 20px;
            margin-bottom: 8px;
            color: var(--primary);
        }
        
        /* Music Player */
        .music-player {
            background-color: var(--secondary);
            padding: 20px;
            border-radius: 10px;
            margin-top: 40px;
            position: sticky;
            bottom: 20px;
            box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .player-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .song-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .now-playing-cover {
            width: 50px;
            height: 50px;
            border-radius: 5px;
            background-color: var(--dark-gray);
            background-size: cover;
            background-position: center;
        }
        
        .song-details h4 {
            font-size: 16px;
        }
        
        .song-details p {
            font-size: 14px;
            color: var(--gray);
        }
        
        .control-buttons {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .control-buttons button {
            background: none;
            border: none;
            color: var(--light);
            font-size: 18px;
            cursor: pointer;
        }
        
        .control-buttons .play-pause {
            background-color: var(--light);
            color: var(--dark);
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .progress-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .progress-time {
            font-size: 12px;
            color: var(--gray);
            min-width: 40px;
        }
        
        .progress-bar {
            flex: 1;
            height: 4px;
            background-color: var(--dark-gray);
            border-radius: 2px;
            overflow: hidden;
            cursor: pointer;
        }
        
        .progress {
            height: 100%;
            background-color: var(--primary);
            width: 0%;
        }
        
        /* Footer */
        footer {
            background-color: var(--secondary);
            padding: 50px 0 20px;
            text-align: center;
            margin-top: 50px;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }
        
        .footer-section {
            flex: 1;
            min-width: 250px;
            margin-bottom: 30px;
        }
        
        .footer-section h3 {
            margin-bottom: 20px;
            color: var(--primary);
        }
        
        .footer-section p, .footer-section a {
            color: var(--gray);
            margin-bottom: 10px;
            display: block;
            text-decoration: none;
        }
        
        .footer-section a:hover {
            color: var(--primary);
        }
        
        .supported-by {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .supported-by span {
            background-color: var(--dark);
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .copyright {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid var(--dark-gray);
            color: var(--gray);
            font-size: 14px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .user-info span {
                display: none;
            }
            
            .quick-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-music"></i>
                    <h1>ndiidepzX<span>music</span></h1>
                </div>
                
                <div class="nav-links">
                    <a href="docs.html" class="active">Beranda</a>
                    <a href="explore.html">Jelajahi</a>
                    <a href="search-users.html">Cari User</a>
                    <a href="search-artists.html">Cari Artist</a>
                    <a href="playlists.html">Playlist</a>
                    <a href="stats.html">Statistik</a>
                    <a href="request.html">Request</a>
                    <a href="profile.html">Profil</a>
                </div>
                
                <div class="user-actions">
                    <div class="user-info">
                        <div class="user-avatar" id="userAvatar">U</div>
                        <span id="username">User</span>
                    </div>
                    <button class="btn btn-outline" onclick="logout()">Keluar</button>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Dashboard -->
    <section class="dashboard">
        <div class="container">
            <div class="welcome-section">
                <h2>Selamat Datang, <span id="welcomeUsername">User</span>! ðŸŽµ</h2>
                <p>Nikmati pengalaman musik personal Anda dengan fitur-fitur terbaru</p>
            </div>
            
            <!-- Quick Stats -->
            <div class="quick-stats">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-play-circle"></i>
                    </div>
                    <div class="stat-number" id="totalPlays">0</div>
                    <div class="stat-label">Total Diputar</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <div class="stat-number" id="totalFavorites">0</div>
                    <div class="stat-label">Lagu Favorit</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-number" id="totalFollowing">0</div>
                    <div class="stat-label">Mengikuti</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-number" id="listenTime">0j</div>
                    <div class="stat-label">Waktu Dengarkan</div>
                </div>
            </div>
            
            <!-- Features Grid -->
            <div class="features-grid">
                <div class="feature-card" onclick="window.location.href='explore.html'">
                    <div class="feature-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3>Jelajahi Musik</h3>
                    <p>Temukan lagu baru, artist, dan playlist berdasarkan preferensi Anda. Cari berdasarkan judul, artist, album, atau bahkan lirik.</p>
                    <a href="explore.html" class="feature-link">
                        Jelajahi Sekarang <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
                
                <div class="feature-card" onclick="window.location.href='search-users.html'">
                    <div class="feature-icon">
                        <i class="fas fa-user-friends"></i>
                    </div>
                    <h3>Cari & Connect</h3>
                    <p>Temukan user lain, lihat playlist mereka, dan terhubung dengan komunitas musik. Follow user dengan taste musik serupa.</p>
                    <a href="search-users.html" class="feature-link">
                        Cari User <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
                
                <div class="feature-card" onclick="window.location.href='search-artists.html'">
                    <div class="feature-icon">
                        <i class="fas fa-microphone"></i>
                    </div>
                    <h3>Jelajahi Artist</h3>
                    <p>Temukan artist favorit, lihat lagu terpopuler mereka, dan dapatkan rekomendasi artist serupa berdasarkan listening history.</p>
                    <a href="search-artists.html" class="feature-link">
                        Cari Artist <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
                
                <div class="feature-card" onclick="window.location.href='playlists.html'">
                    <div class="feature-icon">
                        <i class="fas fa-list"></i>
                    </div>
                    <h3>Kelola Playlist</h3>
                    <p>Buat dan kelola playlist personal Anda. Bagikan playlist dengan teman atau jadikan privat untuk dinikmati sendiri.</p>
                    <a href="playlists.html" class="feature-link">
                        Lihat Playlist <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
                
                <div class="feature-card" onclick="window.location.href='stats.html'">
                    <div class="feature-icon">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <h3>Statistik Musik</h3>
                    <p>Lihat insight mendalam tentang kebiasaan mendengarkan musik Anda. Track lagu favorit, genre, dan waktu listening.</p>
                    <a href="stats.html" class="feature-link">
                        Lihat Statistik <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
                
                <div class="feature-card" onclick="window.location.href='request.html'">
                    <div class="feature-icon">
                        <i class="fas fa-comment-dots"></i>
                    </div>
                    <h3>Request & Feedback</h3>
                    <p>Beri masukan untuk improve platform. Request fitur baru, laporkan bug, atau beri kritik membangun langsung ke developer.</p>
                    <a href="request.html" class="feature-link">
                        Kirim Request <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
            </div>
            
            <!-- Recent Activity -->
            <div class="recent-activity">
                <h3><i class="fas fa-history"></i> Aktivitas Terbaru</h3>
                <div class="activity-list" id="recentActivity">
                    <!-- Activity will be loaded here -->
                </div>
                
                <div class="quick-actions">
                    <a href="upload.html" class="action-btn">
                        <i class="fas fa-upload"></i>
                        Upload Lagu
                    </a>
                    <a href="profile.html" class="action-btn">
                        <i class="fas fa-user-edit"></i>
                        Edit Profil
                    </a>
                    <a href="settings.html" class="action-btn">
                        <i class="fas fa-cog"></i>
                        Pengaturan
                    </a>
                    <a href="request.html" class="action-btn">
                        <i class="fas fa-headset"></i>
                        Bantuan
                    </a>
                </div>
            </div>
            
            <!-- Music Player -->
            <div class="music-player">
                <div class="player-controls">
                    <div class="song-info">
                        <div class="now-playing-cover" id="nowPlayingCover"></div>
                        <div class="song-details">
                            <h4 id="nowPlayingTitle">Pilih lagu untuk diputar</h4>
                            <p id="nowPlayingArtist">-</p>
                        </div>
                    </div>
                    
                    <div class="control-buttons">
                        <button id="prevBtn"><i class="fas fa-step-backward"></i></button>
                        <button class="play-pause" id="playPauseBtn">
                            <i class="fas fa-play" id="playPauseIcon"></i>
                        </button>
                        <button id="nextBtn"><i class="fas fa-step-forward"></i></button>
                    </div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-time" id="currentTime">0:00</div>
                    <div class="progress-bar" id="progressBar">
                        <div class="progress" id="songProgress"></div>
                    </div>
                    <div class="progress-time" id="duration">0:00</div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>ndiidepzXmusic</h3>
                    <p>Platform musik terbaik untuk mendengarkan dan berbagi karya musik.</p>
                </div>
                
                <div class="footer-section">
                    <h3>Fitur Utama</h3>
                    <a href="explore.html">Jelajahi Musik</a>
                    <a href="search-users.html">Cari User</a>
                    <a href="search-artists.html">Cari Artist</a>
                    <a href="upload.html">Upload Lagu</a>
                </div>
                
                <div class="footer-section">
                    <h3>Bantuan</h3>
                    <a href="request.html">Request & Kritik</a>
                    <a href="#">Pusat Bantuan</a>
                    <a href="#">Kontak Developer</a>
                    <a href="#">Kebijakan Privasi</a>
                </div>
                
                <div class="footer-section">
                    <h3>Akun</h3>
                    <a href="profile.html">Profil Saya</a>
                    <a href="stats.html">Statistik</a>
                    <a href="settings.html">Pengaturan</a>
                    <a href="#" onclick="logout()">Keluar</a>
                </div>
            </div>
            
            <div class="supported-by">
                <span>Didukung oleh:</span>
                <span>7F</span>
                <span>FikaStore</span>
                <span>HanamiCloud</span>
                <span>NdiiClouD</span>
            </div>
            
            <div class="copyright">
                &copy; 2023 ndiidepzXmusic. All rights reserved. | Dev: ndiidepzX
            </div>
        </div>
    </footer>
    
    <!-- Audio Element -->
    <audio id="audioPlayer" preload="metadata"></audio>
    
    <script src="music-data.js"></script>
    <script>
        // Global variables
        let currentSong = null;
        let isPlaying = false;
        let currentTime = 0;
        let currentSongIndex = 0;
        let songs = [];
        
        // Check if user is logged in
        document.addEventListener('DOMContentLoaded', function() {
            const isLoggedIn = localStorage.getItem('ndiidepzXmusic_loggedIn');
            
            if (!isLoggedIn) {
                window.location.href = 'login.html';
                return;
            }
            
            // Load user data
            const userData = getCurrentUserData();
            if (userData) {
                document.getElementById('welcomeUsername').textContent = userData.profile.username;
                document.getElementById('username').textContent = userData.profile.username;
                document.getElementById('userAvatar').textContent = userData.profile.username.charAt(0).toUpperCase();
                
                // Load user statistics
                loadUserStats(userData);
                loadRecentActivity(userData);
            }
            
            // Load music data
            loadMusicData();
            
            // Setup event listeners
            setupEventListeners();
        });
        
        function loadUserStats(userData) {
            // Update quick stats
            document.getElementById('totalPlays').textContent = userData.history.playedSongs.length;
            document.getElementById('totalFavorites').textContent = userData.favorites.songs.length;
            document.getElementById('totalFollowing').textContent = (userData.following ? userData.following.length : 0) + (userData.favorites.artists ? userData.favorites.artists.length : 0);
            document.getElementById('listenTime').textContent = Math.round(userData.statistics.totalPlayTime / 3600) + 'j';
        }
        
        function loadRecentActivity(userData) {
            const activityContainer = document.getElementById('recentActivity');
            const activities = [];
            
            // Add recent played songs
            const recentPlays = userData.history.playedSongs.slice(0, 3);
            recentPlays.forEach(play => {
                const song = getDefaultMusicLibrary().songs.find(s => s.id === play.songId);
                if (song) {
                    activities.push({
                        icon: 'fas fa-play',
                        text: `Memutar "${song.title}"`,
                        time: new Date(play.timestamp).toLocaleDateString('id-ID')
                    });
                }
            });
            
            // Add favorite activities
            if (userData.favorites.songs.length > 0) {
                activities.push({
                    icon: 'fas fa-heart',
                    text: `Menambahkan ${userData.favorites.songs.length} lagu favorit`,
                    time: 'Hari ini'
                });
            }
            
            // Add follow activities
            if (userData.following && userData.following.length > 0) {
                activities.push({
                    icon: 'fas fa-user-plus',
                    text: `Mengikuti ${userData.following.length} user`,
                    time: 'Minggu ini'
                });
            }
            
            // Display activities
            if (activities.length === 0) {
                activityContainer.innerHTML = `
                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="fas fa-music"></i>
                        </div>
                        <div class="activity-content">
                            <div class="activity-text">Belum ada aktivitas</div>
                            <div class="activity-time">Mulai jelajahi musik!</div>
                        </div>
                    </div>
                `;
                return;
            }
            
            activityContainer.innerHTML = '';
            activities.forEach(activity => {
                const activityItem = document.createElement('div');
                activityItem.className = 'activity-item';
                activityItem.innerHTML = `
                    <div class="activity-icon">
                        <i class="${activity.icon}"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-text">${activity.text}</div>
                        <div class="activity-time">${activity.time}</div>
                    </div>
                `;
                activityContainer.appendChild(activityItem);
            });
        }
        
        function loadMusicData() {
            const musicLibrary = getDefaultMusicLibrary();
            songs = musicLibrary.songs || [];
        }
        
        function setupEventListeners() {
            const audioPlayer = document.getElementById('audioPlayer');
            const playPauseBtn = document.getElementById('playPauseBtn');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const progressBar = document.getElementById('progressBar');
            
            // Play/Pause button
            playPauseBtn.addEventListener('click', togglePlayPause);
            
            // Previous button
            prevBtn.addEventListener('click', playPreviousSong);
            
            // Next button
            nextBtn.addEventListener('click', playNextSong);
            
            // Progress bar
            progressBar.addEventListener('click', (e) => {
                const rect = progressBar.getBoundingClientRect();
                const percent = (e.clientX - rect.left) / rect.width;
                audioPlayer.currentTime = percent * audioPlayer.duration;
            });
            
            // Audio time update
            audioPlayer.addEventListener('timeupdate', updateProgress);
            
            // Audio loaded metadata
            audioPlayer.addEventListener('loadedmetadata', () => {
                document.getElementById('duration').textContent = formatTime(audioPlayer.duration);
            });
            
            // Audio ended
            audioPlayer.addEventListener('ended', playNextSong);
        }
        
        function playSong(song, index) {
            const audioPlayer = document.getElementById('audioPlayer');
            
            // Update current song
            currentSong = song;
            currentSongIndex = index;
            
            // Set audio source
            audioPlayer.src = song.audio;
            
            // Update UI
            document.getElementById('nowPlayingTitle').textContent = song.title;
            document.getElementById('nowPlayingArtist').textContent = song.artist;
            document.getElementById('nowPlayingCover').style.backgroundImage = `url('${song.cover}')`;
            
            // Play the audio
            audioPlayer.play().then(() => {
                isPlaying = true;
                updatePlayPauseButton();
                
                // Add play history
                addPlayHistory(song.id);
                
                // Update user stats
                const userData = getCurrentUserData();
                loadUserStats(userData);
            }).catch(error => {
                console.error('Error playing audio:', error);
            });
        }
        
        function togglePlayPause() {
            const audioPlayer = document.getElementById('audioPlayer');
            
            if (isPlaying) {
                audioPlayer.pause();
                isPlaying = false;
            } else {
                if (currentSong) {
                    audioPlayer.play();
                    isPlaying = true;
                } else if (songs.length > 0) {
                    // Play first song if none is selected
                    playSong(songs[0], 0);
                }
            }
            
            updatePlayPauseButton();
        }
        
        function updatePlayPauseButton() {
            const playPauseIcon = document.getElementById('playPauseIcon');
            if (isPlaying) {
                playPauseIcon.className = 'fas fa-pause';
            } else {
                playPauseIcon.className = 'fas fa-play';
            }
        }
        
        function playPreviousSong() {
            if (songs.length === 0) return;
            
            let newIndex = currentSongIndex - 1;
            if (newIndex < 0) {
                newIndex = songs.length - 1;
            }
            
            playSong(songs[newIndex], newIndex);
        }
        
        function playNextSong() {
            if (songs.length === 0) return;
            
            let newIndex = currentSongIndex + 1;
            if (newIndex >= songs.length) {
                newIndex = 0;
            }
            
            playSong(songs[newIndex], newIndex);
        }
        
        function updateProgress() {
            const audioPlayer = document.getElementById('audioPlayer');
            const progress = document.getElementById('songProgress');
            const currentTimeEl = document.getElementById('currentTime');
            
            if (audioPlayer.duration) {
                const percent = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                progress.style.width = percent + '%';
                currentTimeEl.textContent = formatTime(audioPlayer.currentTime);
            }
        }
        
        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
        }
        
        function logout() {
            localStorage.removeItem('ndiidepzXmusic_loggedIn');
            localStorage.removeItem('ndiidepzXmusic_currentUser');
            localStorage.removeItem('ndiidepzXmusic_username');
            localStorage.removeItem('ndiidepzXmusic_userEmail');
            window.location.href = 'index.html';
        }
        
        // Make feature cards clickable
        document.addEventListener('DOMContentLoaded', function() {
            const featureCards = document.querySelectorAll('.feature-card');
            featureCards.forEach(card => {
                card.style.cursor = 'pointer';
                card.addEventListener('click', function() {
                    const link = this.querySelector('a');
                    if (link) {
                        window.location.href = link.href;
                    }
                });
            });
        });
    </script>
</body>
</html>
